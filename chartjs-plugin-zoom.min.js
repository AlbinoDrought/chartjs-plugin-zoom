/*!
 * chartjs-plugin-zoom
 * http://chartjs.org/
 * Version: 0.4.4
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/chartjs-plugin-zoom/blob/master/LICENSE.md
 */
!function o(e,n,t){function i(r,l){if(!n[r]){if(!e[r]){var d="function"==typeof require&&require;if(!l&&d)return d(r,!0);if(a)return a(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(o){var n=e[r][1][o];return i(n?n:o)},u,u.exports,o,e,n,t)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<t.length;r++)i(t[r]);return i}({1:[function(o,e,n){function t(o,e){return void 0===o||"string"==typeof o&&o.indexOf(e)!==-1}e.exports=t},{}],2:[function(o,e,n){(function(n){function t(o,e,n){var t=l.panFunctions[o.options.type];t&&t(o,e,n)}function i(o,e,n){var i=o.options.pan,a=i.mode;r.each(o.scales,function(o,r){o.isHorizontal()&&d(a,"x")&&0!==e?t(o,e,i):!o.isHorizontal()&&d(a,"y")&&0!==n&&t(o,n,i)}),o.update(0)}var a="undefined"!=typeof window?window.Chart:"undefined"!=typeof n?n.Chart:null,r=a.helpers,l=a.Zoom,d=o("./directionEnabled");e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directionEnabled":1}],3:[function(o,e,n){(function(n){function t(o,e,n,t){var i=l.zoomFunctions[o.options.type];i&&i(o,e,n,t)}function i(o,e,n){var i=o.chartArea;n||(n={x:(i.left+i.right)/2,y:(i.top+i.bottom)/2});var a=o.options.zoom,l=a.mode;r.each(o.scales,function(o,i){o.isHorizontal()&&d(l,"x")?t(o,e,n,a):!o.isHorizontal()&&d(l,"y")&&t(o,e,n,a)}),o.update(0)}var a="undefined"!=typeof window?window.Chart:"undefined"!=typeof n?n.Chart:null,r=a.helpers,l=a.Zoom,d=o("./directionEnabled");e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directionEnabled":1}],4:[function(o,e,n){function t(o){var e=o.scales;for(var n in e){var t=e[n];if(!t.isHorizontal())return t}}e.exports=t},{}],5:[function(o,e,n){e.exports={doZoom:o("./doZoom"),doPan:o("./doPan"),getYAxis:o("./getYAxis"),resetZoom:o("./resetZoom")}},{"./doPan":2,"./doZoom":3,"./getYAxis":4,"./resetZoom":6}],6:[function(o,e,n){(function(o){function n(o){a.each(o.scales,function(o){o.originalOptions=JSON.parse(JSON.stringify(o.options))})}function t(o,e){return e?n(o):(a.each(o.scales,function(o,e){var n=o.options.time,t=o.options.ticks;n&&(delete n.min,delete n.max),t&&(delete t.min,delete t.max),o.options=a.configMerge(o.options,o.originalOptions)}),a.each(o.data.datasets,function(o,e){o._meta=null}),void o.update())}var i="undefined"!=typeof window?window.Chart:"undefined"!=typeof o?o.Chart:null,a=i.helpers;e.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(o,e,n){(function(n){function t(o,e){return function(){var n=[].slice.apply(arguments);return n.unshift(e),o.apply(this,n)}}function i(o,e,n){for(var t=0;t<o.length;t++){var i=o[t][e];i&&i(n)}}var a="undefined"!=typeof window?window.Chart:"undefined"!=typeof n?n.Chart:null,r=a.helpers,l=a.Zoom=a.Zoom||{},d=l.defaults={pan:{enabled:!0,mode:"xy",speed:20,threshold:10},zoom:{enabled:!0,drag:!1,mode:"xy",sensitivity:3}},s=o("./scales");l.zoomFunctions=s.zoomFunctions,l.panFunctions=s.panFunctions;var u=l.handlers=o("./handlers"),f=l.addons=o("./addons"),m={afterInit:function(o){o.resetZoom(!0)},beforeInit:function(o){o.zoom={};var e=o.options;e.zoom=r.extend(e.zoom||{},d.zoom),e.pan=r.extend(e.pan||{},d.pan);for(var n in f)f.hasOwnProperty(n)&&(o[n]=t(l.addons[n],o));o.zoom.handlers=[];for(var i=0;i<u.length;i++){var a=u[i];a.isEnabled(o)&&(o.zoom.handlers.push(a),a.beforeInit(o))}},beforeDatasetsDraw:function(o){var e=o.chart.ctx,n=o.chartArea;e.save(),e.beginPath(),i(o.zoom.handlers,"beforeDatasetsDraw",o),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()},afterDatasetsDraw:function(o){o.chart.ctx.restore()},destroy:function(o){o.zoom&&(i(o.zoom.handlers,"destroy",o),delete o.zoom)}};e.exports=m,a.pluginService.register(m)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./addons":5,"./handlers":9,"./scales":12}],8:[function(o,e,n){e.exports={isEnabled:function(o){var e=o.options;return e.zoom.enabled&&e.zoom.drag},beforeInit:function(o){var e=o.zoom.node=o.chart.ctx.canvas,n=o.options;n.zoom.mode="x",o.zoom._mouseDownHandler=function(e){o.zoom._dragZoomStart=e},e.addEventListener("mousedown",o.zoom._mouseDownHandler),o.zoom._mouseMoveHandler=function(e){o.zoom._dragZoomStart&&(o.zoom._dragZoomEnd=e,o.update(0))},e.addEventListener("mousemove",o.zoom._mouseMoveHandler),o.zoom._mouseUpHandler=function(e){if(o.zoom._dragZoomStart){var n=o.chartArea,t=o.getYAxis(),i=o.zoom._dragZoomStart,a=i.target.getBoundingClientRect().left,r=Math.min(i.clientX,e.clientX)-a,l=Math.max(i.clientX,e.clientX)-a,d=l-r,s=n.right-n.left,u=1+(s-d)/s;o.zoom._dragZoomStart=null,o.zoom._dragZoomEnd=null,d>0&&o.doZoom(u,{x:d/2+r,y:(t.bottom-t.top)/2})}},e.addEventListener("mouseup",o.zoom._mouseUpHandler)},beforeDatasetsDraw:function(o){if(o.zoom._dragZoomEnd){var e=o.chart.ctx,n=o.getYAxis(),t=o.zoom._dragZoomStart,i=o.zoom._dragZoomEnd,a=t.target.getBoundingClientRect().left,r=Math.min(t.clientX,i.clientX)-a,l=Math.max(t.clientX,i.clientX)-a,d=l-r;e.fillStyle="rgba(225,225,225,0.3)",e.lineWidth=5,e.fillRect(r,n.top,d,n.bottom-n.top)}},destroy:function(o){var e=o.zoom.node;e.removeEventListener("wheel",o.zoom._wheelHandler)}}},{}],9:[function(o,e,n){e.exports=[o("./dragzoom"),o("./scrollzoom"),o("./pan")]},{"./dragzoom":8,"./pan":10,"./scrollzoom":11}],10:[function(o,e,n){(function(o){var n="undefined"!=typeof window?window.Hammer:"undefined"!=typeof o?o.Hammer:null;e.exports={isEnabled:function(o){var e=o.options;return e.pan.enabled&&!(e.zoom.enabled&&e.zoom.drag)&&n},beforeInit:function(o){var e=o.zoom.node=o.chart.ctx.canvas,t=o.options,i=o._mc||new n.Manager(e);i.add(new n.Pan({threshold:t.pan.threshold}));var a=null,r=null,l=!1,d=function(e){if(null!==a&&null!==r){l=!0;var n=e.deltaX-a,t=e.deltaY-r;a=e.deltaX,r=e.deltaY,o.doPan(n,t)}};i.on("panstart",function(o){a=0,r=0,d(o)}),i.on("panmove",d),i.on("panend",function(){a=null,r=null,setTimeout(function(){l=!1},500)}),o.zoom._ghostClickHandler=function(o){l&&(o.stopImmediatePropagation(),o.preventDefault())},e.addEventListener("click",o.zoom._ghostClickHandler),o._mc=i},destroy:function(o){var e=o.zoom.node;e.removeEventListener("click",o.zoom._ghostClickHandler);var n=o._mc;n.remove("panstart"),n.remove("pan"),n.remove("panend")}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(o,e,n){(function(o){var n="undefined"!=typeof window?window.Hammer:"undefined"!=typeof o?o.Hammer:null;e.exports={isEnabled:function(o){var e=o.options;return e.zoom.enabled&&!e.zoom.drag},beforeInit:function(o){var e=o.zoom.node=o.chart.ctx.canvas;if(o.zoom._wheelHandler=function(e){var n=e.target.getBoundingClientRect(),t=e.clientX-n.left,i=e.clientY-n.top,a={x:t,y:i};e.deltaY<0?o.doZoom(1.1,a):o.doZoom(.909,a),e.preventDefault()},e.addEventListener("wheel",o.zoom._wheelHandler),n){var t=o._mc||new n.Manager(e);t.add(new n.Pinch);var i,a=function(e){var n=1/i*e.scale;o.doZoom(n,e.center),i=e.scale};t.on("pinchstart",function(o){i=1}),t.on("pinch",a),t.on("pinchend",function(o){a(o),i=null}),o._mc=t}},destroy:function(o){var e=o.zoom.node;if(e.removeEventListener("mousedown",o.zoom._mouseDownHandler),e.removeEventListener("mousemove",o.zoom._mouseMoveHandler),e.removeEventListener("mouseup",o.zoom._mouseUpHandler),n){var t=o._mc;t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend")}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(o,e,n){e.exports={zoomFunctions:{time:o("./time/zoom"),linear:o("./numerical/zoom"),logarithmic:o("./numerical/zoom")},panFunctions:{time:o("./time/pan"),linear:o("./numerical/pan"),logarithmic:o("./numerical/pan")}}},{"./numerical/pan":13,"./numerical/zoom":14,"./time/pan":15,"./time/zoom":16}],13:[function(o,e,n){function t(o,e){var n=o.options.ticks,t=o.start,i=o.end;n.reverse?(n.max=o.getValueForPixel(o.getPixelForValue(t)-e),n.min=o.getValueForPixel(o.getPixelForValue(i)-e)):(n.min=o.getValueForPixel(o.getPixelForValue(t)-e),n.max=o.getValueForPixel(o.getPixelForValue(i)-e))}e.exports=t},{}],14:[function(o,e,n){function t(o,e,n){var t=o.max-o.min,i=t*(e-1),a=o.isHorizontal()?n.x:n.y,r=(o.getValueForPixel(a)-o.min)/t,l=1-r,d=i*r,s=i*l;o.options.ticks.min=o.min+d,o.options.ticks.max=o.max-s}e.exports=t},{}],15:[function(o,e,n){function t(o,e){var n=o.options;n.time.min=o.getValueForPixel(o.getPixelForValue(o.firstTick)-e),n.time.max=o.getValueForPixel(o.getPixelForValue(o.lastTick)-e)}e.exports=t},{}],16:[function(o,e,n){function t(o,e,n){var t,i,a=o.options;o.isHorizontal()?(t=o.right-o.left,i=(n.x-o.left)/t):(t=o.bottom-o.top,i=(n.y-o.top)/t);var r=1-i,l=t*(e-1),d=l*i,s=l*r;a.time.min=o.getValueForPixel(o.getPixelForValue(o.firstTick)+d),a.time.max=o.getValueForPixel(o.getPixelForValue(o.lastTick)-s)}e.exports=t},{}]},{},[7]);